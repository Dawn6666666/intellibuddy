# 学生班级功能说明

## 📚 功能概述

为学生端添加了完整的班级管理功能，学生现在可以：
- 通过邀请码加入班级
- 查看已加入的所有班级
- 查看班级详情和学习统计
- 退出不需要的班级

## 🎯 功能特性

### 1. 加入班级
- **入口**：我的班级页面 → "加入班级"按钮
- **操作流程**：
  1. 点击"加入班级"按钮
  2. 输入教师提供的8位邀请码
  3. 系统自动验证邀请码
  4. 加入成功后自动刷新班级列表

### 2. 班级列表
- 显示所有已加入的班级
- 每个班级卡片显示：
  - 班级名称
  - 任课教师
  - 班级描述
  - 科目、年级
  - 学生人数
  - 加入时间

### 3. 班级详情
- 点击班级卡片查看详情
- 显示完整的班级信息
- 查看个人学习统计（待作业功能实现）
- 可以退出班级

### 4. 退出班级
- 在班级详情页面点击"退出班级"按钮
- 需要确认操作
- 退出后立即更新班级列表

## 🚀 导航入口

### 桌面端
- 顶部导航栏："我的班级"

### 移动端
- 底部导航栏："班级"图标
- 侧边栏菜单："我的班级"

## 🔌 API 端点

### 后端路由 (backend/src/routes/class.ts)

1. **获取已加入的班级**
   ```
   GET /api/class/joined
   ```
   - 返回学生加入的所有活跃班级
   - 包含教师信息和加入时间

2. **加入班级**
   ```
   POST /api/class/join
   Body: { inviteCode: "12345678" }
   ```
   - 通过邀请码加入班级
   - 验证邀请码有效性
   - 检查是否已加入
   - 检查班级人数限制

3. **退出班级**
   ```
   POST /api/class/:classId/leave
   ```
   - 学生主动退出班级
   - 将学生状态设为 inactive

4. **获取班级详情**
   ```
   GET /api/class/:classId
   ```
   - 获取班级完整信息
   - 需要是教师或班级成员

## 📱 前端组件

### 新增页面
- `frontend/src/views/MyClassesView.vue` - 我的班级主页面

### 路由配置
```typescript
{
  path: 'my-classes',
  name: 'my-classes',
  component: () => import('../views/MyClassesView.vue')
}
```

### 导航更新
- `frontend/src/layouts/MainLayout.vue` - 添加桌面端导航链接
- `frontend/src/components/BottomNavigation.vue` - 添加移动端导航

## 🎨 UI/UX 特性

### 设计亮点
1. **直观的加入流程**
   - 大图标引导
   - 清晰的操作提示
   - 实时输入验证

2. **美观的班级卡片**
   - 渐变色图标
   - 悬停动画效果
   - 信息布局清晰

3. **完善的交互反馈**
   - 加载状态提示
   - 操作成功/失败消息
   - 确认对话框

4. **响应式设计**
   - 适配桌面端、平板、手机
   - 卡片自动布局调整
   - 移动端优化的对话框

## 🔄 后续优化

### 待实现功能
1. **作业系统集成**
   - 在班级详情中显示作业列表
   - 显示作业完成统计
   - 快速跳转到作业详情

2. **班级动态**
   - 显示班级最新公告
   - 教师发布的学习资料
   - 班级排行榜

3. **通知提醒**
   - 新作业提醒
   - 作业截止提醒
   - 班级公告通知

4. **数据统计**
   - 班级学习排名
   - 个人进步曲线
   - 与班级平均值对比

## 🐛 已知问题

暂无已知问题

## 📝 更新日志

### 2025-10-25
- ✅ 创建"我的班级"页面
- ✅ 实现加入班级功能（邀请码）
- ✅ 实现退出班级功能
- ✅ 添加桌面端和移动端导航入口
- ✅ 添加班级详情查看
- ✅ 后端API完善（/joined, /join, /leave）
- ✅ UI美化和响应式适配

## 💡 使用提示

### 教师端
1. 教师在"教师管理"页面创建班级
2. 创建成功后会生成8位邀请码
3. 将邀请码分享给学生

### 学生端
1. 进入"我的班级"页面
2. 点击"加入班级"按钮
3. 输入教师提供的邀请码
4. 加入成功后即可查看班级信息

## 🔒 权限控制

- 只有学生可以加入班级
- 只有班级成员可以查看班级详情
- 学生可以随时退出班级（教师无法阻止）
- 教师可以移除学生（在教师管理页面）

## 📚 相关文档

- [教师班级管理功能](./TEACHER_CLASS_MANAGEMENT.md) (待创建)
- [作业系统文档](./ASSIGNMENT_SYSTEM.md) (待创建)

