# IntelliBuddy é¡¹ç›®é‡æ„æ€»ç»“

## ğŸ¯ é‡æ„ç›®æ ‡

è§£å†³ pnpm å’Œ npm ä¾èµ–å†²çªé—®é¢˜ï¼Œè§„èŒƒé¡¹ç›®ç»“æ„ä¸ºæ ‡å‡†çš„å‰åç«¯åˆ†ç¦»æ¨¡å¼ã€‚

## âœ… å®Œæˆçš„å·¥ä½œ

### 1. é¡¹ç›®ç»“æ„é‡ç»„

**ä¹‹å‰ï¼š**
```
intellibuddy/
â”œâ”€â”€ src/          # å‰ç«¯ä»£ç 
â”œâ”€â”€ backend/      # åç«¯ä»£ç 
â”œâ”€â”€ package.json  # æ··åˆçš„ä¾èµ–
â””â”€â”€ node_modules/ # æ··åˆçš„ä¾èµ–åŒ…
```

**ç°åœ¨ï¼š**
```
intellibuddy/
â”œâ”€â”€ frontend/          # å‰ç«¯é¡¹ç›®ï¼ˆç‹¬ç«‹ï¼‰
â”‚   â”œâ”€â”€ src/          # å‰ç«¯æºä»£ç 
â”‚   â”œâ”€â”€ public/       # é™æ€èµ„æº
â”‚   â”œâ”€â”€ package.json  # å‰ç«¯ä¸“ç”¨ä¾èµ–
â”‚   â”œâ”€â”€ .gitignore
â”‚   â””â”€â”€ .npmrc
â”œâ”€â”€ backend/          # åç«¯é¡¹ç›®ï¼ˆç‹¬ç«‹ï¼‰
â”‚   â”œâ”€â”€ src/          # åç«¯æºä»£ç 
â”‚   â”œâ”€â”€ package.json  # åç«¯ä¸“ç”¨ä¾èµ–
â”‚   â”œâ”€â”€ .gitignore
â”‚   â””â”€â”€ .npmrc
â”œâ”€â”€ package.json      # æ ¹ç›®å½•è„šæœ¬
â”œâ”€â”€ pnpm-workspace.yaml  # pnpm å·¥ä½œåŒºé…ç½®
â”œâ”€â”€ dev.ps1           # å¿«é€Ÿå¯åŠ¨è„šæœ¬
â””â”€â”€ install.ps1       # å¿«é€Ÿå®‰è£…è„šæœ¬
```

### 2. ä¾èµ–ç®¡ç†ä¼˜åŒ–

#### ç»Ÿä¸€ä½¿ç”¨ pnpm
- âœ… åˆ é™¤æ‰€æœ‰ `package-lock.json`ï¼ˆnpm é”æ–‡ä»¶ï¼‰
- âœ… ä¿ç•™ `pnpm-lock.yaml`ï¼ˆpnpm é”æ–‡ä»¶ï¼‰
- âœ… é…ç½® `.npmrc` æ–‡ä»¶
- âœ… è®¾ç½® pnpm workspace

#### å‰ç«¯ä¾èµ– (frontend/package.json)
```json
{
  "dependencies": {
    "vue": "^3.5.21",
    "vue-router": "^4.5.1",
    "pinia": "^3.0.3",
    "element-plus": "^2.11.3",
    "axios": "^1.12.2",
    "echarts": "^6.0.0",
    "@antv/x6": "^2.18.1",
    "marked": "^16.3.0",
    "katex": "^0.16.25",
    ...
  }
}
```

#### åç«¯ä¾èµ– (backend/package.json)
```json
{
  "dependencies": {
    "express": "^5.1.0",
    "mongoose": "^8.18.2",
    "axios": "^1.6.0",      // âœ… æ–°æ·»åŠ 
    "bcryptjs": "^3.0.2",
    "jsonwebtoken": "^9.0.2",
    "passport": "^0.7.0",
    ...
  }
}
```

**ç§»é™¤çš„ä¾èµ–ï¼š**
- âŒ `@vitejs/plugin-vue` (å‰ç«¯å·¥å…·)
- âŒ `vite` (å‰ç«¯å·¥å…·)
- âŒ `vue` (å‰ç«¯æ¡†æ¶)
- âŒ `katex`, `marked-katex-extension` (å‰ç«¯æ¸²æŸ“)

### 3. é…ç½®æ–‡ä»¶æ›´æ–°

#### frontend/vite.config.ts
- âœ… è·¯å¾„åˆ«åï¼š`@` -> `./src`
- âœ… API ä»£ç†ï¼š`/api` -> `http://localhost:5001`
- âœ… æ„å»ºä¼˜åŒ–ï¼šæ”¹ç”¨ `esbuild`ï¼ˆè€Œé terserï¼‰
- âœ… ä»£ç åˆ†å‰²é…ç½®

#### frontend/tsconfig.json
- âœ… è·¯å¾„é…ç½®æ­£ç¡®
- âœ… å¼•ç”¨ `tsconfig.app.json` å’Œ `tsconfig.node.json`

#### æ ¹ç›®å½• package.json
```json
{
  "scripts": {
    "dev": "concurrently \"npm run dev:frontend\" \"npm run dev:backend\"",
    "dev:frontend": "cd frontend && pnpm dev",
    "dev:backend": "cd backend && pnpm dev",
    "build": "npm run build:frontend && npm run build:backend",
    "install:all": "pnpm install && cd frontend && pnpm install && cd ../backend && pnpm install",
    "clean": "..."
  }
}
```

### 4. ä»£ç ä¿®å¤

#### å‰ç«¯
- âœ… ä¿®å¤ `pinia-persist.ts`ï¼šä½¿ç”¨ type import
- âœ… ä¿®å¤ `useStudyTimer.ts`ï¼šç§»é™¤æœªä½¿ç”¨çš„ onMounted
- âœ… ä¿®å¤ `AnalyticsDashboard.vue`ï¼šç§»é™¤æœªä½¿ç”¨çš„ apiService

#### åç«¯
- âœ… æ·»åŠ  axios ä¾èµ–
- âœ… æ¸…ç†å‰ç«¯ä¾èµ–

### 5. å¯åŠ¨è„šæœ¬

#### install.ps1
```powershell
# ä¸€é”®å®‰è£…æ‰€æœ‰ä¾èµ–
.\install.ps1
```

#### dev.ps1
```powershell
# ä¸€é”®å¯åŠ¨å‰åç«¯å¼€å‘æœåŠ¡å™¨
.\dev.ps1
```

## ğŸ“¦ å®‰è£…å’Œå¯åŠ¨

### æ–¹å¼ 1ï¼šä½¿ç”¨ PowerShell è„šæœ¬ï¼ˆæ¨èï¼‰

```powershell
# 1. å®‰è£…ä¾èµ–
.\install.ps1

# 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
.\dev.ps1
```

### æ–¹å¼ 2ï¼šä½¿ç”¨ npm è„šæœ¬

```powershell
# 1. å®‰è£…ä¾èµ–
pnpm install

# 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### æ–¹å¼ 3ï¼šåˆ†åˆ«å¯åŠ¨

```powershell
# ç»ˆç«¯ 1 - å‰ç«¯
cd frontend
pnpm dev

# ç»ˆç«¯ 2 - åç«¯
cd backend
pnpm dev
```

## ğŸ¨ è®¿é—®åœ°å€

- **å‰ç«¯**ï¼šhttp://localhost:5173
- **åç«¯**ï¼šhttp://localhost:5001

## ğŸ“ ä»£ç æ£€æŸ¥çŠ¶æ€

### å‰ç«¯
- âœ… å¼€å‘æ¨¡å¼ï¼šå¯æ­£å¸¸è¿è¡Œ
- âš ï¸ æ„å»ºæ¨¡å¼ï¼šæœ‰éƒ¨åˆ† TypeScript ä¸¥æ ¼æ£€æŸ¥è­¦å‘Šï¼ˆä¸å½±å“è¿è¡Œï¼‰
  - å¯é€‰é“¾æœªæ£€æŸ¥ (?.undefined)
  - ç±»å‹æ–­è¨€éœ€è¦è¡¥å……
  - æœªä½¿ç”¨çš„å˜é‡

### åç«¯
- âœ… å¼€å‘æ¨¡å¼ï¼šå¯æ­£å¸¸è¿è¡Œ
- âš ï¸ æ„å»ºæ¨¡å¼ï¼šæœ‰éƒ¨åˆ† TypeScript ç±»å‹é”™è¯¯ï¼ˆä¸å½±å“è¿è¡Œï¼‰
  - ä¸»è¦æ˜¯ Express è·¯ç”±çš„ç±»å‹å®šä¹‰
  - å¯åç»­æ…¢æ…¢ä¿®å¤

## ğŸš€ ä¼˜åŠ¿

1. **ä¾èµ–éš”ç¦»**ï¼šå‰åç«¯ä¾èµ–å®Œå…¨åˆ†ç¦»ï¼Œä¸ä¼šå†²çª
2. **ç»Ÿä¸€å·¥å…·**ï¼šå…¨éƒ¨ä½¿ç”¨ pnpmï¼Œé¿å…åŒ…ç®¡ç†å™¨æ··ç”¨
3. **å·¥ä½œåŒºæ¨¡å¼**ï¼špnpm workspace ç»Ÿä¸€ç®¡ç†
4. **å¿«é€Ÿå¯åŠ¨**ï¼šä¸€é”®è„šæœ¬å¿«é€Ÿå¼€å‘
5. **æ ‡å‡†ç»“æ„**ï¼šç¬¦åˆç°ä»£å‰åç«¯åˆ†ç¦»æœ€ä½³å®è·µ

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **åªä½¿ç”¨ pnpm**ï¼šä¸è¦ä½¿ç”¨ npm æˆ– yarn
2. **å·¥ä½œåŒºå®‰è£…**ï¼šåœ¨æ ¹ç›®å½•è¿è¡Œ `pnpm install` ä¼šè‡ªåŠ¨å®‰è£…æ‰€æœ‰å­é¡¹ç›®ä¾èµ–
3. **è·¯å¾„å¼•ç”¨**ï¼šå‰ç«¯ä»£ç ä¸­çš„ç›¸å¯¹è·¯å¾„ï¼ˆ`../`ï¼‰éƒ½æ˜¯æ­£ç¡®çš„ï¼Œæ— éœ€ä¿®æ”¹
4. **TypeScript é”™è¯¯**ï¼šæ„å»ºé”™è¯¯ä¸å½±å“å¼€å‘è¿è¡Œï¼Œå¯åç»­ä¼˜åŒ–

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å¿«é€Ÿå¼€å§‹](./QUICK_START.md) - è¯¦ç»†çš„å®‰è£…å’Œä½¿ç”¨æŒ‡å—
- [ç”¨æˆ·æ‰‹å†Œ](./docs/USER_MANUAL.md) - åŠŸèƒ½ä½¿ç”¨è¯´æ˜
- [éƒ¨ç½²æŒ‡å—](./docs/DEPLOYMENT_GUIDE.md) - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
- [æµ‹è¯•ç»“æœ](./TEST_RESULTS.md) - æµ‹è¯•æŠ¥å‘Š

## ğŸ‰ ç»“è®º

é¡¹ç›®é‡æ„æˆåŠŸï¼ç°åœ¨å¯ä»¥ï¼š
- âœ… æ­£å¸¸å¼€å‘å’Œè¿è¡Œ
- âœ… å‰åç«¯ç‹¬ç«‹ç®¡ç†
- âœ… é¿å…ä¾èµ–å†²çª
- âœ… ç¬¦åˆæœ€ä½³å®è·µ

**ä¸‹ä¸€æ­¥ï¼š**
- å¼€å§‹å¼€å‘æ–°åŠŸèƒ½
- é€æ­¥ä¿®å¤ TypeScript ç±»å‹è­¦å‘Šï¼ˆå¯é€‰ï¼‰
- ä¼˜åŒ–æ„å»ºé…ç½®ï¼ˆå¯é€‰ï¼‰

