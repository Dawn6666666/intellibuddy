# Markdown 书写标准规范

> **适用范围**: IntelliBuddy 学习平台的所有笔记内容  
> **版本**: v1.2  
> **最后更新**: 2025-10-14

---

## 📋 目录

1. [文档结构规范](#文档结构规范)
2. [标题规范](#标题规范)
3. [文本格式规范](#文本格式规范)
4. [代码块规范](#代码块规范)
5. [引用块规范](#引用块规范)
6. [列表规范](#列表规范)
7. [表格规范](#表格规范)
8. [数学公式规范](#数学公式规范)
9. [图片与链接规范](#图片与链接规范)
10. [特殊元素规范](#特殊元素规范)
11. [常见错误与修复](#常见错误与修复)

---

## 文档结构规范

### ✅ 标准文档开头

```markdown
# 章节标题

简短的章节描述，一句话概括本章内容。

---

## 主要内容开始
```

**说明**:
- 第一行必须是一级标题（`#`），作为章节标题
- 第二段是简短描述（可选但推荐）
- 使用 `---` 分隔符分隔引言和正文
- **禁止**在文档开头使用图片占位符（如 `![标题](https://via.placeholder.com/...)`）

### ✅ 标准文档结尾

```markdown
最后一段内容...

---

**本章完**
```

**说明**:
- 文档结尾使用 `---` 分隔符
- 添加 `**本章完**` 标记文档结束
- **禁止**在文档结尾包含下一章节的标题

### ❌ 错误示例

**错误1：文档开头使用占位符图片**
```markdown
![标题图片](https://via.placeholder.com/800x200?text=Title)

# 章节标题
```

**错误2：文档结尾包含下一章节标题** 🔴
```markdown
# 第一章：基础知识

...章节内容...

---

## 2. 第二章标题

---
```

**问题说明**:
- 这会导致第二章的标题出现在第一章文件的末尾
- 在学习平台中会造成章节内容错位
- 用户会在第一章末尾看到第二章的标题，但点击后无内容

**正确做法**:
```markdown
# 第一章：基础知识

...章节内容...

---

**本章完**
```

---

## 标题规范

### ✅ 正确的标题格式

```markdown
# 一级标题（章节标题）

## 二级标题（主要章节）

### 三级标题（小节）

#### 四级标题（细节）
```

**规则**:
1. 标题符号（`#`）后必须有一个空格
2. 标题前后各空一行（除了文档开头的一级标题）
3. 标题层级不要跳跃（不要从 `##` 直接跳到 `####`）
4. 一个文档只能有一个一级标题

### ❌ 错误示例

```markdown
##没有空格的标题
### 4.1函数定义
## **4****.**** 标题中的多余星号**
```

---

## 文本格式规范

### 加粗（Bold）

#### ✅ 正确格式

```markdown
**这是加粗文本**
这是普通文本，**这部分加粗**，这部分不加粗。
```

#### ❌ 错误格式

```markdown
**加粗文本****  （多余的星号）
**加粗**文本**  （不匹配的星号）
****加粗****  （过多的星号）
```

**修复规则**: 加粗必须是成对的 `**文本**`，前后各两个星号，不能有多余的星号。

### 斜体（Italic）

```markdown
*这是斜体文本*
_这也是斜体文本_
```

### 行内代码（Inline Code）

#### ✅ 正确格式

```markdown
使用 `printf()` 函数输出内容。
变量 `int a = 10;` 存储整数。
文件名是 `main.c`。
```

**规则**:
- 函数名、变量名、文件名、命令、关键字等都应使用行内代码格式
- 反引号（`` ` ``）内外不要有额外空格

#### ❌ 错误格式

```markdown
使用printf()函数  （缺少反引号）
变量` int a `存储  （反引号内有多余空格）
```

### 组合格式

```markdown
**加粗的 `代码`**  ✅ 正确
`代码` **加粗**  ✅ 正确
***加粗斜体***  ✅ 正确
```

---

## 代码块规范

### ✅ 标准代码块格式

````markdown
```c
#include <stdio.h>

int main() {
    printf("Hello, World!\n");
    return 0;
}
```
````

**规则**:
1. 代码块必须指定语言（如 `c`、`python`、`javascript`）
2. 代码块前后各空一行
3. 代码内容保持原始缩进（通常是4空格或1个Tab）
4. 代码块结束标记必须独占一行

### 支持的语言标识符

| 语言 | 标识符 | 示例 | 使用场景 |
|------|--------|------|----------|
| C语言 | `c` | ````markdown ```c```` | C语言代码 |
| C++ | `cpp` | ````markdown ```cpp```` | C++代码 |
| Python | `python` | ````markdown ```python```` | Python代码、伪代码 |
| Java | `java` | ````markdown ```java```` | Java代码 |
| JavaScript | `javascript` 或 `js` | ````markdown ```javascript```` | JS代码 |
| Shell | `bash` 或 `shell` | ````markdown ```bash```` | Shell命令 |
| 纯文本输出 | `plain` 或 `plaintext` | ````markdown ```plain```` | 程序输出、示例演示、流程图 |
| JSON | `json` | ````markdown ```json```` | JSON数据 |
| SQL | `sql` | ````markdown ```sql```` | SQL语句 |
| 汇编 | `asm` 或 `assembly` | ````markdown ```asm```` | 汇编代码 |

### 代码输出示例

````markdown
**运行结果:**

```plain
Hello, World!
Sum: 15
```
````

**说明**: 程序输出结果使用 `plain` 或 `plaintext` 标识符。

### 算法和伪代码示例

对于算法描述和伪代码，推荐使用以下格式：

````markdown
**方法1：使用Python风格伪代码**

```python
def binary_search(arr, target):
    left = 0
    right = len(arr) - 1
    while left <= right:
        mid = (left + right) // 2
        if arr[mid] == target:
            return mid
        elif arr[mid] < target:
            left = mid + 1
        else:
            right = mid - 1
    return -1
```

**方法2：使用纯文本描述**

```plain
算法步骤：
1. 初始化左右指针
2. 计算中间位置
3. 比较目标值
4. 调整搜索范围
```
````

**规则**:
- 伪代码优先使用 `python`（语法简洁易读）
- 流程图、示例演示使用 `plain`
- **禁止**使用无语言标识符的代码块

### ❌ 错误示例

````markdown
```  （缺少语言标识符）
code here
```

``` c  （语言标识符前有空格）
code here
```

```
伪代码或算法描述  （缺少语言标识符）
```
````

---

## 引用块规范

### ✅ 标准引用块格式

```markdown
> **💡 提示**: 这是一个提示信息。

> **🐛 常见Bug**: 这是一个常见错误说明。
> 
> 这是错误的详细描述，可以多行。

> **深度辨析：标题**
>
> + 要点1
> + 要点2
```

**规则**:
1. 引用符号（`>`）后必须有一个空格
2. 引用块内的空行也需要保留 `>`
3. 引用块前后各空一行
4. 引用块内可以包含其他Markdown元素（列表、代码块等）

### 引用块内的代码块

````markdown
> **示例说明**
>
> ```c
> int a = 10;
> printf("%d", a);
> ```
>
> 这段代码的作用是...
````

**注意**: 引用块内的代码块不需要在每行前加 `>`，只需要在代码块前后的文本行加 `>`。

### ❌ 错误示例

```markdown
>没有空格的引用

> 引用块
（缺少空行的 > 符号）
> 继续引用

> **🐛**** 多余星号**  （加粗格式错误）
```

---

## 列表规范

### 无序列表

#### ✅ 正确格式

```markdown
+ 第一项
+ 第二项
+ 第三项
  + 嵌套项1
  + 嵌套项2
+ 第四项

- 使用减号也可以
- 第二项

* 使用星号也可以
* 第二项
```

**规则**:
1. 列表符号（`+`、`-`、`*`）后必须有一个空格
2. 同一列表使用统一的符号（推荐使用 `+`）
3. 嵌套列表缩进2个空格
4. 列表前后各空一行

### 有序列表

```markdown
1. 第一步
2. 第二步
3. 第三步
   1. 子步骤1
   2. 子步骤2
4. 第四步
```

### ❌ 错误示例

```markdown
+没有空格
+ 第一项
+第二项（缺少空格）

1.没有空格
2. 第二项
```

---

## 表格规范

### ✅ 标准表格格式

```markdown
| 列1 | 列2 | 列3 |
| :--- | :---: | ---: |
| 左对齐 | 居中 | 右对齐 |
| 数据1 | 数据2 | 数据3 |
```

**规则**:
1. 表格前后各空一行
2. 使用 `|` 分隔列
3. 第二行定义对齐方式：
   - `:---` 左对齐
   - `:---:` 居中
   - `---:` 右对齐
4. 表格内可以使用行内代码、加粗等格式

### 表格内的特殊格式

```markdown
| 类型 | 描述 | 示例 |
| :--- | :--- | :--- |
| `int` | 整型 | `int a = 10;` |
| **重要** | 加粗强调 | 这是重要内容 |
| 公式 | 数学公式 | $ x^2 + y^2 = r^2 $ |
```

### ❌ 错误示例

```markdown
|列1|列2|列3|  （缺少空格）
|:---|:---|:---|
|数据1|数据2|数据3|

列1 | 列2  （缺少表头分隔行）
数据1 | 数据2
```

---

## 数学公式规范

### 行内公式

```markdown
这是一个行内公式 $ E = mc^2 $，它表示质能方程。
变量 $ x $ 的取值范围是 $ -2^{31} $ 到 $ 2^{31}-1 $。
```

**规则**:
- 使用 `$ 公式 $` 包裹
- 公式符号与文本之间有空格

### 块级公式

```markdown
质能方程的完整形式：

$$
E = mc^2
$$

二次方程的求根公式：

$$
x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}
$$
```

**规则**:
- 使用 `$$` 包裹，独占一行
- 公式前后各空一行
- **每个公式必须独立成块**，不能连续出现空的 `$$` 块

### ❌ 公式常见错误

```markdown
❌ 错误1：连续的空公式块
$$
$$

$$
$$

❌ 错误2：公式块之间缺少空行
$$
E = mc^2
$$
$$
F = ma
$$

❌ 错误3：多个公式写在一个块内（应该分开）
$$
E = mc^2
F = ma
$$
```

### ✅ 公式正确格式

```markdown
✅ 正确：每个公式独立，前后有空行

第一个公式：

$$
E = mc^2
$$

第二个公式：

$$
F = ma
$$

✅ 正确：多个公式可以合并（如果逻辑相关）

方程组：

$$
\begin{cases}
x + y = 5 \\
x - y = 1
\end{cases}
$$
```

### 常用数学符号

| 符号 | LaTeX | 说明 |
|------|-------|------|
| $ x^2 $ | `x^2` | 上标 |
| $ x_i $ | `x_i` | 下标 |
| $ \frac{a}{b} $ | `\frac{a}{b}` | 分数 |
| $ \sqrt{x} $ | `\sqrt{x}` | 平方根 |
| $ \pm $ | `\pm` | 加减号 |
| $ \times $ | `\times` | 乘号 |
| $ \leq $ | `\leq` | 小于等于 |
| $ \geq $ | `\geq` | 大于等于 |

---

## 图片与链接规范

### 图片

#### ✅ 正确格式

```markdown
![图片描述](./images/example.png)

![架构图](https://example.com/architecture.png)
```

**规则**:
1. 使用相对路径或完整URL
2. 必须提供图片描述（alt文本）
3. **禁止**使用占位符图片（如 `via.placeholder.com`）
4. 图片前后各空一行

#### ❌ 错误格式

```markdown
![](image.png)  （缺少描述）
![标题](https://via.placeholder.com/800x200)  （禁止使用占位符）
```

### 链接

```markdown
[链接文本](https://example.com)

访问 [官方文档](https://docs.example.com) 了解更多。
```

---

## 特殊元素规范

### 分隔线

```markdown
---
```

**规则**:
- 使用三个或以上的 `-`、`*` 或 `_`
- 分隔线前后各空一行
- 推荐使用 `---`

### Emoji 和图标

```markdown
💡 提示
🐛 Bug
⚠️ 警告
✅ 正确
❌ 错误
📝 笔记
🎯 重点
```

**规则**: 在标题、引用块、列表中适度使用，增强可读性。

### 特殊标注块

```markdown
> **💡 提示**: 有用的建议
> **🐛 常见Bug**: 容易犯的错误
> **⚠️ 注意**: 需要特别注意的内容
> **深度原理讲解**: 深入理解
> **深度辨析**: 对比分析
```

---

## 常见错误与修复

### 1. 加粗格式错误

#### ❌ 错误

```markdown
**文本****
**🐛**** 常见Bug**
```

#### ✅ 修复

```markdown
**文本**
**🐛 常见Bug**
```

### 2. 标题格式错误

#### ❌ 错误

```markdown
##标题没有空格
## **4****.**** 函数定义**
```

#### ✅ 修复

```markdown
## 标题有空格
## 4. 函数定义
```

### 3. 代码块语言缺失

#### ❌ 错误

````markdown
```
int main() {
    return 0;
}
```

```
for i in range(n):
    print(i)
```

```
初始: [5, 2, 8, 1, 9]
第1轮: [2, 5, 1, 8, 9]
```
````

#### ✅ 修复

````markdown
```c
int main() {
    return 0;
}
```

```python
for i in range(n):
    print(i)
```

```plain
初始: [5, 2, 8, 1, 9]
第1轮: [2, 5, 1, 8, 9]
```
````

**说明**:
- C/C++/Java等代码使用对应的语言标识符
- Python代码或伪代码使用 `python`
- 示例演示、流程图使用 `plain`

### 4. 引用块格式错误

#### ❌ 错误

```markdown
>没有空格
> 第一行
第二行（缺少>）
```

#### ✅ 修复

```markdown
> 有空格
> 第一行
> 第二行
```

### 5. 列表符号后缺少空格

#### ❌ 错误

```markdown
+第一项
-第二项
*第三项
```

#### ✅ 修复

```markdown
+ 第一项
- 第二项
* 第三项
```

### 6. 行内代码格式错误

#### ❌ 错误

```markdown
使用printf()函数
变量int a = 10
```

#### ✅ 修复

```markdown
使用 `printf()` 函数
变量 `int a = 10`
```

### 7. 表格格式错误

#### ❌ 错误

```markdown
|列1|列2|  （缺少空格）
列1 | 列2  （缺少分隔行）
```

#### ✅ 修复

```markdown
| 列1 | 列2 |
| :--- | :--- |
| 数据1 | 数据2 |
```

### 8. 数学公式错误

#### ❌ 错误

```markdown
连续的空公式块：
$$
$$

$$
$$

公式块之间缺少空行：
$$
E = mc^2
$$
$$
F = ma
$$
```

#### ✅ 修复

```markdown
删除空的公式块，每个公式前后加空行：

第一个公式：

$$
E = mc^2
$$

第二个公式：

$$
F = ma
$$
```

### 9. 占位符图片

#### ❌ 错误

```markdown
![标题](https://via.placeholder.com/800x200?text=Title)
![示例图](https://via.placeholder.com/600x400)
```

#### ✅ 修复

```markdown
方案1：删除占位符图片

方案2：使用实际图片
![架构图](./images/architecture.png)

方案3：使用文字描述替代
**架构图说明**: 系统采用三层架构...
```

### 10. 章节标题错位 🔴

#### ❌ 错误

这是一个严重的结构性错误，会导致章节内容在学习平台中显示错乱。

```markdown
# 第一章：基础知识

...第一章的内容...

最后一段内容。

---

## 2. 第二章标题

---
```

**问题影响**:
- 第二章的标题出现在第一章文件的末尾
- 用户在第一章末尾看到第二章标题，但点击后无对应内容
- 导航目录混乱，章节跳转失效
- 学习体验极差

#### ✅ 修复

**第一章文件结尾应该是：**
```markdown
# 第一章：基础知识

...第一章的内容...

最后一段内容。

---

**本章完**
```

**第二章应该在独立的文件中：**
```markdown
# 第二章标题

第二章的描述...

---

## 2.1 第一节
...
```

**修复规则**:
1. 每个文档只包含一个主章节的内容
2. 文档结尾使用 `**本章完**` 标记
3. **绝对禁止**在文档末尾包含下一章节的标题
4. 下一章节的内容应该在独立的文件中

---

## 检查清单

在提交Markdown文档前，请检查以下项目：

### 文档结构 🔴
- [ ] 文档开头是一级标题，没有占位符图片
- [ ] 文档结尾使用 `**本章完**` 标记
- [ ] **文档结尾没有包含下一章节的标题**（严重错误）
- [ ] 每个文档只包含一个主章节的内容

### 基础格式
- [ ] 所有标题符号后有空格（`## 标题` 而非 `##标题`）
- [ ] 加粗格式正确（`**文本**`，无多余星号）
- [ ] 行内代码使用反引号包裹（`` `printf()` `` 而非 `printf()`）

### 代码块
- [ ] 所有代码块都指定了语言标识符
- [ ] C/C++/Java代码使用 `c`/`cpp`/`java`
- [ ] Python代码或伪代码使用 `python`
- [ ] 示例演示、流程图使用 `plain`
- [ ] 代码块前后各空一行

### 数学公式
- [ ] 没有连续的空 `$$` 块
- [ ] 每个公式独立成块，前后有空行
- [ ] 行内公式使用 `$ 公式 $`
- [ ] 块级公式使用独立的 `$$` 包裹

### 列表和表格
- [ ] 引用块符号后有空格（`> 文本` 而非 `>文本`）
- [ ] 列表符号后有空格（`+ 项目` 而非 `+项目`）
- [ ] 表格格式完整（包含分隔行和对齐符号）
- [ ] 表格列之间有空格

### 图片和链接
- [ ] 没有使用外部占位符图片链接（via.placeholder.com）
- [ ] 图片都有描述文本（alt text）
- [ ] 文档结构清晰，层级合理

### 常见问题自查
- [ ] 没有 `**文本****` 这样的多余星号
- [ ] 没有 `## **4****.**** 标题**` 这样的错误标题
- [ ] 没有无语言标识符的代码块 ` ``` `
- [ ] 没有连续的空数学公式块
- [ ] 🔴 **没有在文档末尾包含下一章节的标题**（最易忽略的严重错误）

---

## 推荐工具

### Markdown 编辑器
- **VS Code** + Markdown All in One 插件
- **Typora** (所见即所得)
- **MarkText** (开源)

### Markdown 校验工具
- **markdownlint** (VS Code 插件)
- **remark-lint** (命令行工具)

### 在线预览
- **StackEdit** (https://stackedit.io/)
- **Dillinger** (https://dillinger.io/)

---

## 版本历史

| 版本 | 日期 | 变更说明 |
|------|------|----------|
| v1.0 | 2025-10-14 | 初始版本，基于C语言笔记整理 |
| v1.1 | 2025-10-14 | 新增代码块语言标识符规范、数学公式错误处理、占位符图片处理规范 |
| v1.2 | 2025-10-14 | 新增章节标题错位问题规范、文档结尾标准格式 |

---

## 附录：完整示例

以下是一个符合所有规范的完整Markdown文档示例：

````markdown
# 示例章节标题

本章介绍示例内容，展示标准的Markdown格式。

---

## 1. 主要内容

### 1.1 小节标题

这是正文内容，包含**加粗文本**和*斜体文本*。

使用 `printf()` 函数可以输出内容。

> **💡 提示**: 这是一个提示信息。
>
> 可以包含多行内容。

### 1.2 代码示例

```c
#include <stdio.h>

int main() {
    printf("Hello, World!\n");
    return 0;
}
```

**运行结果:**

```plain
Hello, World!
```

### 1.3 数据对比

| 类型 | 大小 | 范围 |
| :--- | :---: | :--- |
| `int` | 4字节 | $ -2^{31} $ ~ $ 2^{31}-1 $ |
| `float` | 4字节 | 约 $ \pm 3.4 \times 10^{38} $ |

### 1.4 要点列表

+ 第一个要点
+ 第二个要点
  + 嵌套要点
+ 第三个要点

---

## 2. 总结

本章学习了以下内容：

1. 基本语法
2. 代码示例
3. 数据类型

更多信息请参考 [官方文档](https://example.com)。
````

---

**文档结束**

