# å¯¼å…¥è„šæœ¬æ›´æ–°è¯´æ˜

> ğŸ“… æ›´æ–°æ—¥æœŸï¼š2024å¹´10æœˆ  
> ğŸ¯ ç›®æ ‡ï¼šé€‚é…æ–°çš„24ä¸ªçŸ¥è¯†ç‚¹æ˜ å°„å…³ç³»

## ğŸ“‹ æ›´æ–°æ¦‚è§ˆ

æ ¹æ® `æ˜ å°„å…³ç³»å®¡é˜….md` çš„æœ€æ–°ä¼˜åŒ–æ–¹æ¡ˆï¼Œå¯¼å…¥è„šæœ¬å·²æ›´æ–°ä»¥æ”¯æŒæ–°çš„çŸ¥è¯†ç‚¹ä½“ç³»ï¼š

### âœ… å®Œæˆçš„æ›´æ–°

1. **backend/README-å¯¼å…¥æ•°æ®.md** - å®Œå…¨é‡å†™
   - æ·»åŠ 24ä¸ªçŸ¥è¯†ç‚¹çš„å®Œæ•´åˆ—è¡¨
   - æ›´æ–°æ¨èå¯¼å…¥æ–¹å¼ï¼ˆTypeScriptè„šæœ¬ï¼‰
   - æ·»åŠ è¯¦ç»†çš„æ•…éšœæ’æŸ¥æŒ‡å—
   - æ›´æ–°æ•°æ®ç»“æ„è¯´æ˜

2. **backend/import-data-local.cjs** - é‡å¤§æ›´æ–°
   - æ›´æ–°æ•°æ®Schemaä»¥åŒ¹é…æ–°æ¨¡å‹
   - æ·»åŠ 24ä¸ªçŸ¥è¯†ç‚¹IDå¸¸é‡
   - æ”¹è¿›é”™è¯¯å¤„ç†å’Œæ—¥å¿—è¾“å‡º
   - æ”¯æŒä»TypeScriptç¼–è¯‘ç»“æœå¯¼å…¥
   - æ·»åŠ æ•°æ®è¿‡æ»¤ï¼Œç¡®ä¿åªå¯¼å…¥é…ç½®çš„24ä¸ªçŸ¥è¯†ç‚¹

3. **import-data-local.cjs** (æ ¹ç›®å½•) - æ ‡è®°ä¸ºå¼ƒç”¨
   - é‡å®šå‘åˆ°backendç›®å½•çš„æ–°è„šæœ¬
   - æä¾›æ¸…æ™°çš„è¿ç§»æŒ‡å¼•

4. **backend/import-knowledge-points.cjs** - å·²åˆ é™¤ âŒ
   - åŠŸèƒ½ä¸ `import-data-local.cjs` é‡å¤
   - ç»Ÿä¸€ä½¿ç”¨ `import-data-local.cjs` ä½œä¸ºå”¯ä¸€çš„CommonJSå¯¼å…¥è„šæœ¬
   - `npm run import` å‘½ä»¤ç°åœ¨æŒ‡å‘ `import-data-local.cjs`

## ğŸ¯ æ–°çŸ¥è¯†ç‚¹ä½“ç³»ï¼ˆ24ä¸ªï¼‰

### æ•°æ®åº“ä¼˜åŒ–ç»“æœ
- âœ… åˆ é™¤äº†12ä¸ªé‡å¤/æ— ç”¨çŸ¥è¯†ç‚¹
- âœ… ä¿ç•™24ä¸ªæœ‰ç¬”è®°å†…å®¹çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹
- âœ… æ‰€æœ‰çŸ¥è¯†ç‚¹IDä¸é…ç½®æ–‡ä»¶å®Œå…¨åŒ¹é…

### çŸ¥è¯†ç‚¹IDåˆ—è¡¨

```javascript
const KNOWLEDGE_POINT_IDS = [
    // ç¬¬ä¸€å­¦å¹´ï¼ˆ5ä¸ªï¼‰
    'cs101',          // ç¼–ç¨‹å¯¼è®º (Cè¯­è¨€) - 11ä¸ªç¬”è®°
    'math101',        // å¾®ç§¯åˆ† I - 11ä¸ªç¬”è®°
    'cs102-discrete', // ç¦»æ•£æ•°å­¦ - 9ä¸ªç¬”è®°
    'cs100',          // è®¡ç®—æœºå¯¼è®º - 8ä¸ªç¬”è®°
    'cs103',          // æ•°æ®ç»“æ„ - 9ä¸ªç¬”è®°
    
    // ç¬¬äºŒå­¦å¹´ï¼ˆ8ä¸ªï¼‰
    'math201',        // çº¿æ€§ä»£æ•° - 10ä¸ªç¬”è®°
    'cs104',          // é«˜çº§ç¼–ç¨‹ - 17ä¸ªç¬”è®° (Python + OOP)
    'math102',        // å¾®ç§¯åˆ† II - 6ä¸ªç¬”è®°
    'cs201',          // è®¡ç®—æœºç»„æˆåŸç† - 9ä¸ªç¬”è®°
    'cs202',          // é¢å‘å¯¹è±¡ç¼–ç¨‹ - 22ä¸ªç¬”è®° (C++ + Java + JavaWeb)
    'cs203',          // è½¯ä»¶å·¥ç¨‹ - 10ä¸ªç¬”è®°
    'cs204',          // ç®—æ³•è®¾è®¡ä¸åˆ†æ - 12ä¸ªç¬”è®°
    'cs205',          // æ“ä½œç³»ç»Ÿ - 10ä¸ªç¬”è®°
    
    // ç¬¬ä¸‰å­¦å¹´ï¼ˆ5ä¸ªï¼‰
    'cs206-pl',       // ç¼–ç¨‹è¯­è¨€åŸç† - 12ä¸ªç¬”è®°
    'cs206-db',       // æ•°æ®åº“ç³»ç»Ÿ - 11ä¸ªç¬”è®°
    'cs301',          // è®¡ç®—æœºç½‘ç»œ - 11ä¸ªç¬”è®°
    'ai1',            // äººå·¥æ™ºèƒ½å¯¼è®º - 8ä¸ªç¬”è®°
    'ai2',            // æ·±åº¦å­¦ä¹  - 17ä¸ªç¬”è®° (æ·±åº¦å­¦ä¹  + æœºå™¨å­¦ä¹ )
    
    // ç¬¬å››å­¦å¹´ï¼ˆ6ä¸ªï¼‰
    'cs402',          // åˆ†å¸ƒå¼ç³»ç»Ÿ - 6ä¸ªç¬”è®°
    'sec1',           // ç½‘ç»œå®‰å…¨ - 3ä¸ªç¬”è®°
    'cs499',          // æ¯•ä¸šè®¾è®¡ - 5ä¸ªç¬”è®°
    'math203',        // æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡ - 10ä¸ªç¬”è®°
    'phys101',        // å¤§å­¦ç‰©ç† - 12ä¸ªç¬”è®°
    'eng101'          // å¤§å­¦è‹±è¯­ - 11ä¸ªç¬”è®°
];

// æ€»è®¡ï¼š24ä¸ªçŸ¥è¯†ç‚¹ï¼Œ250ä¸ªç¬”è®°æ–‡ä»¶
```

## ğŸš€ æ¨èä½¿ç”¨æ–¹å¼

### æ–¹å¼1ï¼šä¸€é”®å¯¼å…¥ï¼ˆæœ€æ¨èï¼‰âœ¨

```bash
cd backend
npm run seed:all
```

**è¿™ä¸ªå‘½ä»¤ä¼šè‡ªåŠ¨å®Œæˆï¼š**
- âœ… æ¸…ç©ºæ—§æ•°æ®
- âœ… å¯¼å…¥24ä¸ªçŸ¥è¯†ç‚¹åŸºç¡€ä¿¡æ¯
- âœ… å¡«å……250ä¸ªç¬”è®°æ–‡ä»¶å†…å®¹
- âœ… éªŒè¯é…ç½®æ–‡ä»¶æ˜ å°„

**é¢„è®¡æ—¶é—´ï¼š** 1-2åˆ†é’Ÿ

### æ–¹å¼2ï¼šåˆ†æ­¥å¯¼å…¥

```bash
cd backend

# æ­¥éª¤1: å¯¼å…¥çŸ¥è¯†ç‚¹åŸºç¡€ä¿¡æ¯
npm run seed

# æ­¥éª¤2: å¡«å……ç¬”è®°å†…å®¹
npm run fill:content
```

### æ–¹å¼3ï¼šæŒ‰å­¦å¹´å¯¼å…¥

```bash
cd backend

npm run seed:year1  # ç¬¬ä¸€å­¦å¹´ 5ä¸ªçŸ¥è¯†ç‚¹
npm run seed:year2  # ç¬¬äºŒå­¦å¹´ 8ä¸ªçŸ¥è¯†ç‚¹
npm run seed:year3  # ç¬¬ä¸‰å­¦å¹´ 5ä¸ªçŸ¥è¯†ç‚¹
npm run seed:year4  # ç¬¬å››å­¦å¹´ 6ä¸ªçŸ¥è¯†ç‚¹
```

### æ–¹å¼4ï¼šCommonJSè„šæœ¬ï¼ˆå‘åå…¼å®¹ï¼‰

```bash
cd backend
npm run import:local  # å¯¼å…¥åˆ°æœ¬åœ°MongoDB
```

**æ³¨æ„ï¼š** æ­¤æ–¹å¼éœ€è¦ JSON æ•°æ®æ–‡ä»¶ï¼Œæ¨èä½¿ç”¨ TypeScript æ–¹å¼

## ğŸ“Š æ•°æ®æ¨¡å‹æ›´æ–°

### æ–°å¢å­—æ®µ

```typescript
{
    id: string;              // å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆæ–°æ ¼å¼ï¼šcs101, math101ç­‰ï¼‰
    order: number;           // å­¦ä¹ é¡ºåº
    title: string;           // æ ‡é¢˜
    description: string;     // è¯¦ç»†æè¿°
    subject: string;         // å­¦ç§‘åˆ†ç±»
    category: string;        // ç±»åˆ«æ ‡ç­¾
    difficulty: number;      // éš¾åº¦ (1-5)
    prerequisites: string[]; // å‰ç½®çŸ¥è¯†ç‚¹ID
    learningPath: string;    // å­¦ä¹ è·¯å¾„ï¼ˆå­¦å¹´/å­¦æœŸï¼‰
    estimatedHours: number;  // é¢„ä¼°å­¦æ—¶
    contentSnippet: string;  // å†…å®¹ç®€ä»‹
    resources: Resource[];   // å­¦ä¹ èµ„æº
    tags: string[];          // æ ‡ç­¾
    subtopics: SubTopic[];   // å­ä¸»é¢˜
    status: string;          // å­¦ä¹ çŠ¶æ€
    graphPosition: {x, y};   // çŸ¥è¯†å›¾è°±ä½ç½®
    contentFiles: ContentFile[]; // ç¬”è®°æ–‡ä»¶ï¼ˆå¡«å……åï¼‰
}
```

### ç§»é™¤çš„å­—æ®µ

- `content`: å·²æ›¿æ¢ä¸º `contentFiles` æ•°ç»„
- `quiz`: æµ‹éªŒåŠŸèƒ½ï¼ˆå¯èƒ½åœ¨æœªæ¥ç‰ˆæœ¬æ·»åŠ ï¼‰

## ğŸ”„ è¿ç§»æŒ‡å—

### å¦‚æœä½ ä¹‹å‰ä½¿ç”¨æ—§è„šæœ¬ï¼š

1. **åœæ­¢ä½¿ç”¨** æ ¹ç›®å½•çš„ `import-data-local.cjs`
2. **åˆ‡æ¢åˆ°** `backend` ç›®å½•
3. **è¿è¡Œ** `npm run seed:all`
4. **éªŒè¯** æ•°æ®å¯¼å…¥æˆåŠŸï¼ˆåº”è¯¥çœ‹åˆ°24ä¸ªçŸ¥è¯†ç‚¹ï¼‰

### å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. **æ¸…ç©ºæ•°æ®åº“**
   ```bash
   cd backend
   npm run seed:all  # ä¼šè‡ªåŠ¨æ¸…ç©ºæ—§æ•°æ®
   ```

2. **æ£€æŸ¥ç¯å¢ƒå˜é‡**
   - ç¡®ä¿ `backend/.env` æ–‡ä»¶å­˜åœ¨
   - ç¡®ä¿ `MONGODB_URI` æˆ– `MONGO_URI` å·²é…ç½®

3. **é‡æ–°å®‰è£…ä¾èµ–**
   ```bash
   cd backend
   npm install
   ```

## ğŸ“ æ–‡ä»¶æ˜ å°„é…ç½®

æ‰€æœ‰ç¬”è®°æ–‡ä»¶æ˜ å°„åœ¨ `backend/src/config/content-files-config.ts` ä¸­é…ç½®ï¼š

```typescript
export const contentFilesConfig: KnowledgePointContentConfig[] = [
    {
        knowledgePointId: 'cs101',
        files: [
            { path: 'public/ç¬”è®°/Cè¯­è¨€ç¼–ç¨‹å¯¼è®º/...', title: '...' },
            // ... 11ä¸ªæ–‡ä»¶
        ]
    },
    // ... 24ä¸ªçŸ¥è¯†ç‚¹é…ç½®
];
```

## âœ… éªŒè¯å¯¼å…¥ç»“æœ

### 1. æ£€æŸ¥æ•°æ®åº“

```javascript
// è¿æ¥åˆ°MongoDBå
db.knowledgepoints.countDocuments()  // åº”è¯¥è¿”å› 24
db.knowledgepoints.find().toArray()  // æŸ¥çœ‹æ‰€æœ‰çŸ¥è¯†ç‚¹
```

### 2. æ£€æŸ¥çŸ¥è¯†ç‚¹ID

æ‰€æœ‰å¯¼å…¥çš„çŸ¥è¯†ç‚¹åº”è¯¥ä½¿ç”¨æ–°IDæ ¼å¼ï¼š
- âœ… `cs101`, `math101`, `cs102-discrete` ...
- âŒ ~~`cs-y1-s1-c1`, `cs-y1-s1-c2`~~ (æ—§æ ¼å¼)

### 3. æ£€æŸ¥ç¬”è®°å†…å®¹

```javascript
// æŸ¥è¯¢æŸä¸ªçŸ¥è¯†ç‚¹çš„ç¬”è®°å†…å®¹
db.knowledgepoints.findOne({id: 'cs101'}).contentFiles.length
// åº”è¯¥è¿”å› 11 (Cè¯­è¨€æœ‰11ä¸ªç¬”è®°æ–‡ä»¶)
```

## ğŸ¯ ä¸‹ä¸€æ­¥

å¯¼å…¥æˆåŠŸåï¼š

1. **å¯åŠ¨åç«¯æœåŠ¡**
   ```bash
   cd backend
   npm run dev
   ```

2. **æµ‹è¯•API**
   ```bash
   curl http://localhost:5001/api/knowledge-points
   ```

3. **å¯åŠ¨å‰ç«¯**
   ```bash
   npm run dev
   ```

4. **å¼€å§‹å­¦ä¹ ï¼** ğŸš€

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
- `backend/README-å¯¼å…¥æ•°æ®.md` - è¯¦ç»†å¯¼å…¥æŒ‡å—
- `æ˜ å°„å…³ç³»å®¡é˜….md` - çŸ¥è¯†ç‚¹æ˜ å°„è¯´æ˜
- `KNOWLEDGE_POINTS_GUIDE.md` - çŸ¥è¯†ç‚¹é…ç½®æŒ‡å—

---

**ğŸ‰ æ­å–œï¼çŸ¥è¯†åº“ç³»ç»Ÿå·²å®Œæˆå‡çº§ï¼Œç°åœ¨åŒ…å«24ä¸ªç²¾å¿ƒè®¾è®¡çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œæ¶µç›–250ä¸ªé«˜è´¨é‡ç¬”è®°æ–‡ä»¶ï¼**

