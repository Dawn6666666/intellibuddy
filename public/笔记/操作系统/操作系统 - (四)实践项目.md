![(四)实践项目](https://via.placeholder.com/800x200?text=OS+Projects)

# 操作系统 - (四)实践项目

操作系统实战项目。

---


### 4.1 简易Shell实现

```python
import os
import subprocess

class SimpleShell:
    def __init__(self):
        self.running = True
    
    def execute(self, command):
        """执行命令"""
        if not command:
            return
        
        parts = command.split()
        cmd = parts[0]
        
        # 内置命令
        if cmd == 'exit':
            self.running = False
            return
        elif cmd == 'cd':
            try:
                os.chdir(parts[1] if len(parts) > 1 else os.path.expanduser('~'))
            except Exception as e:
                print(f"cd: {e}")
            return
        elif cmd == 'pwd':
            print(os.getcwd())
            return
        
        # 外部命令
        try:
            result = subprocess.run(parts, capture_output=True, text=True)
            if result.stdout:
                print(result.stdout, end='')
            if result.stderr:
                print(result.stderr, end='')
        except Exception as e:
            print(f"Error: {e}")
    
    def run(self):
        """主循环"""
        while self.running:
            try:
                command = input(f"{os.getcwd()}$ ")
                self.execute(command)
            except KeyboardInterrupt:
                print("\n使用exit退出")
            except EOFError:
                break

# 运行
# shell = SimpleShell()
# shell.run()
```

---

## 5. 高级进程调度