![(äºŒ)ç³»ç»Ÿè®¾è®¡](https://via.placeholder.com/800x200?text=System+Design)

# æ¯•ä¸šè®¾è®¡ - (äºŒ)ç³»ç»Ÿè®¾è®¡

å­¦ä¹ ç³»ç»Ÿæ¶æ„è®¾è®¡æ–¹æ³•ã€‚

---


### 2.1 æ¶æ„è®¾è®¡

```python
class SystemArchitecture:
    def __init__(self, project_type):
        self.project_type = project_type
        self.components = {}
        self.technologies = {}
    
    def design_web_architecture(self):
        """Webåº”ç”¨æ¶æ„è®¾è®¡"""
        return {
            'frontend': {
                'framework': 'React/Vue.js',
                'ui_library': 'Ant Design/Element UI',
                'state_management': 'Redux/Vuex',
                'build_tool': 'Webpack/Vite'
            },
            'backend': {
                'framework': 'Express.js/Spring Boot',
                'database': 'MySQL/PostgreSQL',
                'cache': 'Redis',
                'message_queue': 'RabbitMQ/Kafka'
            },
            'infrastructure': {
                'web_server': 'Nginx',
                'container': 'Docker',
                'orchestration': 'Kubernetes',
                'cloud': 'AWS/Azure/é˜¿é‡Œäº‘'
            }
        }
    
    def design_ai_architecture(self):
        """AIé¡¹ç›®æ¶æ„è®¾è®¡"""
        return {
            'data_layer': {
                'storage': 'HDFS/S3',
                'database': 'MongoDB/Elasticsearch',
                'preprocessing': 'Pandas/Spark'
            },
            'model_layer': {
                'framework': 'TensorFlow/PyTorch',
                'training': 'GPU Cluster',
                'serving': 'TensorFlow Serving/TorchServe'
            },
            'api_layer': {
                'framework': 'FastAPI/Flask',
                'gateway': 'Kong/Zuul',
                'monitoring': 'Prometheus/Grafana'
            }
        }
    
    def generate_architecture_diagram(self):
        """ç”Ÿæˆæ¶æ„å›¾ï¼ˆä¼ªä»£ç ï¼‰"""
        if self.project_type == 'web':
            arch = self.design_web_architecture()
        elif self.project_type == 'ai':
            arch = self.design_ai_architecture()
        
        print("ğŸ—ï¸  ç³»ç»Ÿæ¶æ„:")
        for layer, components in arch.items():
            print(f"\nğŸ“¦ {layer.upper()}:")
            for component, tech in components.items():
                print(f"  â€¢ {component}: {tech}")

# æ¶æ„è®¾è®¡ç¤ºä¾‹
web_arch = SystemArchitecture('web')
web_arch.generate_architecture_diagram()

print("\n" + "="*50 + "\n")

ai_arch = SystemArchitecture('ai')
ai_arch.generate_architecture_diagram()
```

### 2.2 æ•°æ®åº“è®¾è®¡

```python
class DatabaseDesign:
    def __init__(self):
        self.tables = {}
        self.relationships = []
    
    def design_ecommerce_db(self):
        """ç”µå•†ç³»ç»Ÿæ•°æ®åº“è®¾è®¡"""
        
        # ç”¨æˆ·è¡¨
        self.tables['users'] = {
            'id': 'INT PRIMARY KEY AUTO_INCREMENT',
            'username': 'VARCHAR(50) UNIQUE NOT NULL',
            'email': 'VARCHAR(100) UNIQUE NOT NULL',
            'password_hash': 'VARCHAR(255) NOT NULL',
            'phone': 'VARCHAR(20)',
            'created_at': 'TIMESTAMP DEFAULT CURRENT_TIMESTAMP',
            'updated_at': 'TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP'
        }
        
        # å•†å“è¡¨
        self.tables['products'] = {
            'id': 'INT PRIMARY KEY AUTO_INCREMENT',
            'name': 'VARCHAR(200) NOT NULL',
            'description': 'TEXT',
            'price': 'DECIMAL(10,2) NOT NULL',
            'stock': 'INT DEFAULT 0',
            'category_id': 'INT',
            'image_url': 'VARCHAR(500)',
            'status': 'ENUM("active", "inactive") DEFAULT "active"',
            'created_at': 'TIMESTAMP DEFAULT CURRENT_TIMESTAMP'
        }
        
        # è®¢å•è¡¨
        self.tables['orders'] = {
            'id': 'INT PRIMARY KEY AUTO_INCREMENT',
            'user_id': 'INT NOT NULL',
            'total_amount': 'DECIMAL(10,2) NOT NULL',
            'status': 'ENUM("pending", "paid", "shipped", "delivered", "cancelled")',
            'shipping_address': 'TEXT',
            'created_at': 'TIMESTAMP DEFAULT CURRENT_TIMESTAMP'
        }
        
        # è®¢å•è¯¦æƒ…è¡¨
        self.tables['order_items'] = {
            'id': 'INT PRIMARY KEY AUTO_INCREMENT',
            'order_id': 'INT NOT NULL',
            'product_id': 'INT NOT NULL',
            'quantity': 'INT NOT NULL',
            'price': 'DECIMAL(10,2) NOT NULL'
        }
        
        # å®šä¹‰å…³ç³»
        self.relationships = [
            ('orders', 'user_id', 'users', 'id'),
            ('order_items', 'order_id', 'orders', 'id'),
            ('order_items', 'product_id', 'products', 'id')
        ]
    
    def generate_sql(self):
        """ç”ŸæˆSQLå»ºè¡¨è¯­å¥"""
        sql_statements = []
        
        for table_name, columns in self.tables.items():
            sql = f"CREATE TABLE {table_name} (\n"
            column_defs = []
            
            for column_name, column_type in columns.items():
                column_defs.append(f"  {column_name} {column_type}")
            
            sql += ",\n".join(column_defs)
            sql += "\n);"
            sql_statements.append(sql)
        
        # æ·»åŠ å¤–é”®çº¦æŸ
        for table, fk_column, ref_table, ref_column in self.relationships:
            fk_sql = f"ALTER TABLE {table} ADD FOREIGN KEY ({fk_column}) REFERENCES {ref_table}({ref_column});"
            sql_statements.append(fk_sql)
        
        return sql_statements
    
    def print_schema(self):
        """æ‰“å°æ•°æ®åº“æ¨¡å¼"""
        print("ğŸ—„ï¸  æ•°æ®åº“è®¾è®¡:")
        for table_name, columns in self.tables.items():
            print(f"\nğŸ“‹ {table_name.upper()}:")
            for column_name, column_type in columns.items():
                print(f"  â€¢ {column_name}: {column_type}")

# æ•°æ®åº“è®¾è®¡ç¤ºä¾‹
db_design = DatabaseDesign()
db_design.design_ecommerce_db()
db_design.print_schema()

print("\nğŸ“ SQLè¯­å¥:")
sql_statements = db_design.generate_sql()
for i, sql in enumerate(sql_statements[:2]):  # åªæ˜¾ç¤ºå‰ä¸¤ä¸ª
    print(f"\n-- è¡¨ {i+1}")
    print(sql)
```

---

## 3. é¡¹ç›®å®æ–½