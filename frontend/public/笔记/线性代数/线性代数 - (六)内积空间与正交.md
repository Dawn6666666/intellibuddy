# 线性代数 - (六)内积空间与正交

学习内积空间和正交化方法。

---

## 6. 内积空间与正交

### 6.1 内积

**定义**：

$$
\langle \mathbf{u}, \mathbf{v} \rangle = \mathbf{u}^T \mathbf{v} = \sum_{i=1}^{n} u_i v_i
$$

**性质：**
- 对称性：$\langle \mathbf{u}, \mathbf{v} \rangle = \langle \mathbf{v}, \mathbf{u} \rangle$
- 线性性：$\langle k\mathbf{u}, \mathbf{v} \rangle = k\langle \mathbf{u}, \mathbf{v} \rangle$
- 正定性：$\langle \mathbf{v}, \mathbf{v} \rangle \geq 0$

**范数（长度）：**

$$
\|\mathbf{v}\| = \sqrt{\langle \mathbf{v}, \mathbf{v} \rangle} = \sqrt{v_1^2 + v_2^2 + \cdots + v_n^2}
$$

**夹角：**

$$
\cos \theta = \frac{\langle \mathbf{u}, \mathbf{v} \rangle}{\|\mathbf{u}\| \|\mathbf{v}\|}
$$

### 6.2 正交与正交化

**正交**：$\langle \mathbf{u}, \mathbf{v} \rangle = 0$

**Schmidt正交化**：

给定线性无关向量 $\mathbf{v}_1, \mathbf{v}_2, ..., \mathbf{v}_k$，构造正交向量组：

$$
\mathbf{u}_1 = \mathbf{v}_1
$$

$$
\mathbf{u}_2 = \mathbf{v}_2 - \frac{\langle \mathbf{v}_2, \mathbf{u}_1 \rangle}{\langle \mathbf{u}_1, \mathbf{u}_1 \rangle} \mathbf{u}_1
$$

$$
\mathbf{u}_3 = \mathbf{v}_3 - \frac{\langle \mathbf{v}_3, \mathbf{u}_1 \rangle}{\langle \mathbf{u}_1, \mathbf{u}_1 \rangle} \mathbf{u}_1 - \frac{\langle \mathbf{v}_3, \mathbf{u}_2 \rangle}{\langle \mathbf{u}_2, \mathbf{u}_2 \rangle} \mathbf{u}_2
$$

**Python实现：**

```python
def gram_schmidt(V):
    """Gram-Schmidt正交化"""
    U = []
    for v in V:
        u = v.copy()
        for ui in U:
            u -= np.dot(v, ui) / np.dot(ui, ui) * ui
        U.append(u / np.linalg.norm(u))  # 单位化
    return np.array(U).T

V = np.array([
    [1, 1, 0],
    [1, 0, 1],
    [0, 1, 1]
], dtype=float).T  # 列向量

Q = gram_schmidt(V.T)
print("正交矩阵:\n", Q)

# 验证正交性
print("Q^T Q =\n", Q.T @ Q)  # 应为单位矩阵
```

---

**本章完**
