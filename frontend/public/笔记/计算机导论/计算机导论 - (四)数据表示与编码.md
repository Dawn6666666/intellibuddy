# 计算机导论 - (四)数据表示与编码

学习计算机中数据的表示和编码方式。

---


### 4.1 数制转换

#### 常用数制

| 数制 | 基数 | 符号 | 示例 |
|------|------|------|------|
| 十进制 | 10 | 0-9 | 123 |
| 二进制 | 2 | 0-1 | 1111011 |
| 八进制 | 8 | 0-7 | 173 |
| 十六进制 | 16 | 0-9,A-F | 7B |

#### 转换方法

**十进制 → 二进制（除2取余法）：**

示例：$(13)_{10}$ 转二进制

$$
13 \div 2 = 6 \cdots 1
$$

$$
6 \div 2 = 3 \cdots 0
$$

$$
3 \div 2 = 1 \cdots 1
$$

$$
1 \div 2 = 0 \cdots 1
$$

结果：$(1101)_2$

**二进制 → 十进制（按权展开）：**

$$
(1101)_2 = 1 \times 2^3 + 1 \times 2^2 + 0 \times 2^1 + 1 \times 2^0 = 13
$$

**二进制 ↔ 八进制/十六进制：**

| 二进制 | 八进制 | 十六进制 |
|--------|--------|----------|
| 000 | 0 | 0 |
| 001 | 1 | 1 |
| 010 | 2 | 2 |
| 011 | 3 | 3 |
| 100 | 4 | 4 |
| 101 | 5 | 5 |
| 110 | 6 | 6 |
| 111 | 7 | 7 |
| 1000 | 10 | 8 |
| 1111 | 17 | F |

示例：$(1111011)_2 = (173)_8 = (7B)_{16}$

### 4.2 数据单位

**存储单位换算：**

$$
1 \text{ Byte (B)} = 8 \text{ bits (b)}
$$

$$
1 \text{ KB} = 1024 \text{ B} = 2^{10} \text{ B}
$$

$$
1 \text{ MB} = 1024 \text{ KB} = 2^{20} \text{ B}
$$

$$
1 \text{ GB} = 1024 \text{ MB} = 2^{30} \text{ B}
$$

$$
1 \text{ TB} = 1024 \text{ GB} = 2^{40} \text{ B}
$$

**示例计算：**

32GB内存有多少字节？

$$
32 \times 1024 \times 1024 \times 1024 = 34,359,738,368 \text{ bytes}
$$

### 4.3 字符编码

#### ASCII码

- 7位编码，128个字符
- 包括英文字母、数字、标点、控制符

**常用字符：**

| 字符 | ASCII码（十进制） | 二进制 | 十六进制 |
|------|------------------|--------|----------|
| '0' | 48 | 0011 0000 | 0x30 |
| 'A' | 65 | 0100 0001 | 0x41 |
| 'a' | 97 | 0110 0001 | 0x61 |
| 空格 | 32 | 0010 0000 | 0x20 |

**规律：**
- 'A'-'Z'：65-90
- 'a'-'z'：97-122
- '0'-'9'：48-57

#### Unicode

- 支持世界上所有文字
- UTF-8、UTF-16、UTF-32编码方式

**UTF-8特点：**
- 变长编码（1-4字节）
- ASCII兼容
- 互联网主流编码

**示例：**

| 字符 | Unicode码点 | UTF-8编码 |
|------|------------|-----------|
| A | U+0041 | 41 |
| 中 | U+4E2D | E4 B8 AD |
| 😊 | U+1F60A | F0 9F 98 8A |

### 4.4 数值表示

#### 整数表示

**原码、反码、补码：**

以8位为例，表示 $-5$：

| 表示法 | 二进制 | 说明 |
|--------|--------|------|
| 原码 | 1000 0101 | 符号位+数值 |
| 反码 | 1111 1010 | 符号位不变，其余取反 |
| 补码 | 1111 1011 | 反码+1 |

**补码优势：**
- 统一加减运算
- 消除+0和-0的区别

#### 浮点数表示（IEEE 754）

**单精度（32位）：**

```plain
符号位(1) | 阶码(8) | 尾数(23)
```

**示例：** 表示 $-12.5$

1. 转二进制：$12.5 = (1100.1)_2$
2. 规格化：$1.1001 \times 2^3$
3. 阶码：$3 + 127 = 130 = (10000010)_2$
4. 尾数：$1001000...$ (省略首位1)
5. 结果：

$$
\underbrace{1}_{\text{符号}} \underbrace{10000010}_{\text{阶码}} \underbrace{10010000000000000000000}_{\text{尾数}}
$$

### 4.5 数据表示综合练习

#### 练习题1：数制转换

**题目：** 将十进制数 $(205)_{10}$ 转换为二进制、八进制和十六进制。

**解答：**

1. **十进制 → 二进制**（除2取余）：
   
   $$
   \begin{align}
   205 \div 2 &= 102 \cdots 1 \\
   102 \div 2 &= 51 \cdots 0 \\
   51 \div 2 &= 25 \cdots 1 \\
   25 \div 2 &= 12 \cdots 1 \\
   12 \div 2 &= 6 \cdots 0 \\
   6 \div 2 &= 3 \cdots 0 \\
   3 \div 2 &= 1 \cdots 1 \\
   1 \div 2 &= 0 \cdots 1
   \end{align}
   $$
   
   结果：$(11001101)_2$

2. **二进制 → 八进制**（3位一组）：
   $$
   (11\ 001\ 101)_2 = (315)_8
   $$

3. **二进制 → 十六进制**（4位一组）：
   $$
   (1100\ 1101)_2 = (CD)_{16}
   $$

#### 练习题2：补码运算

**题目：** 用8位补码表示，计算 $5 + (-3)$

**解答：**

1. **5的补码**：
   - 原码：$00000101$
   - 补码：$00000101$（正数补码同原码）

2. **-3的补码**：
   - 原码：$10000011$
   - 反码：$11111100$
   - 补码：$11111101$

3. **补码相加**：
   $$
   \begin{array}{r}
     00000101 \\
   + 11111101 \\
   \hline
   (1)00000010
   \end{array}
   $$
   
   舍弃进位，结果：$00000010 = 2$

#### 练习题3：浮点数表示

**题目：** 用IEEE 754单精度表示 $6.25$

**解答：**

1. **转二进制**：
   - 整数部分：$6 = (110)_2$
   - 小数部分：$0.25 = (0.01)_2$
   - 合并：$(110.01)_2$

2. **规格化**：
   $$
   110.01 = 1.1001 \times 2^2
   $$

3. **计算各部分**：
   - **符号位**：0（正数）
   - **阶码**：$2 + 127 = 129 = (10000001)_2$
   - **尾数**：$10010000000000000000000$（省略首位1）

4. **结果**：
   $$
   0\ 10000001\ 10010000000000000000000
   $$

#### 练习题4：存储容量计算

**题目：** 一个视频文件，分辨率1920×1080，每秒30帧，每像素3字节（RGB），长度10分钟。计算文件大小（不压缩）。

**解答：**

$$
\begin{align}
\text{每帧大小} &= 1920 \times 1080 \times 3 \text{ bytes} \\
&= 6,220,800 \text{ bytes} \\
&\approx 5.93 \text{ MB}
\end{align}
$$

$$
\begin{align}
\text{每秒大小} &= 5.93 \times 30 \\
&= 177.9 \text{ MB/s}
\end{align}
$$

$$
\begin{align}
\text{总大小} &= 177.9 \times 600 \text{ 秒} \\
&= 106,740 \text{ MB} \\
&\approx 104.2 \text{ GB}
\end{align}
$$

**答案**：约104GB

### 4.6 图像编码

#### 颜色模型

**RGB模型（加色模型）：**

$$
\text{Color} = (R, G, B)
$$

- 每个分量：0-255（8位）
- 总色彩数：$2^{24} = 16,777,216$ 种
- 应用：显示器、摄像头

**示例：**
- 红色：(255, 0, 0)
- 绿色：(0, 255, 0)
- 蓝色：(0, 0, 255)
- 白色：(255, 255, 255)
- 黑色：(0, 0, 0)

**其他颜色模型：**

| 模型 | 分量 | 应用 |
|------|------|------|
| **CMYK** | 青、品红、黄、黑 | 印刷 |
| **HSV** | 色调、饱和度、明度 | 图像处理 |
| **YUV** | 亮度、色度 | 视频编码 |

#### 图像格式

**无损格式：**

| 格式 | 压缩方式 | 特点 | 应用 |
|------|----------|------|------|
| **BMP** | 无压缩 | 质量高、体积大 | 原始图像 |
| **PNG** | 无损压缩 | 支持透明、体积中等 | Web图像 |
| **GIF** | LZW压缩 | 256色、支持动画 | 简单动画 |
| **TIFF** | 无损/有损 | 专业级 | 印刷、扫描 |

**有损格式：**

| 格式 | 压缩比 | 质量 | 应用 |
|------|--------|------|------|
| **JPEG** | 10:1-20:1 | 中高 | 照片 |
| **WebP** | 更高 | 高 | Web图像 |
| **AVIF** | 最高 | 高 | 新一代Web |

#### JPEG编码原理

**压缩步骤：**

```plain
1. 颜色空间转换（RGB → YCbCr）
   ↓
2. 色度子采样（4:2:0）
   ↓
3. 分块（8×8像素块）
   ↓
4. 离散余弦变换（DCT）
   ↓
5. 量化（丢弃高频信息）
   ↓
6. 熵编码（霍夫曼编码）
```

**质量参数：**

| 质量 | 压缩比 | 视觉效果 | 文件大小 |
|------|--------|----------|----------|
| 100% | 约3:1 | 完美 | 大 |
| 90% | 约10:1 | 优秀 | 中 |
| 75% | 约20:1 | 良好 | 小 |
| 50% | 约40:1 | 可接受 | 很小 |
| 25% | 约100:1 | 差 | 极小 |

### 4.7 音频编码

#### 数字音频参数

**采样率（Sample Rate）：**

$$
\text{采样率} = \text{每秒采样次数（Hz）}
$$

| 采样率 | 应用 |
|--------|------|
| 8 kHz | 电话质量 |
| 22.05 kHz | 低质量音频 |
| 44.1 kHz | CD质量 |
| 48 kHz | 专业音频、视频 |
| 96 kHz | 高保真 |
| 192 kHz | 发烧级 |

**位深度（Bit Depth）：**

| 位深 | 动态范围 | 应用 |
|------|----------|------|
| 8位 | 48 dB | 低质量 |
| 16位 | 96 dB | CD标准 |
| 24位 | 144 dB | 专业录音 |
| 32位浮点 | 极高 | 音频处理 |

**比特率计算：**

$$
\text{比特率} = \text{采样率} \times \text{位深度} \times \text{声道数}
$$

**示例：** CD音质（44.1kHz, 16bit, 立体声）

$$
44100 \times 16 \times 2 = 1,411,200 \text{ bps} = 1411.2 \text{ kbps}
$$

$$
1 \text{分钟} = 1411.2 \times 60 / 8 = 10.6 \text{ MB}
$$

#### 音频编码格式

**无损格式：**

| 格式 | 压缩比 | 特点 |
|------|--------|------|
| **WAV** | 1:1 | 无压缩，PCM编码 |
| **FLAC** | 约2:1 | 无损压缩，开源 |
| **ALAC** | 约2:1 | Apple无损 |
| **APE** | 约2:1 | 高压缩比 |

**有损格式：**

| 格式 | 比特率 | 质量 | 应用 |
|------|--------|------|------|
| **MP3** | 128-320 kbps | 中高 | 最通用 |
| **AAC** | 96-256 kbps | 高（同比特率优于MP3） | iTunes、YouTube |
| **Opus** | 6-510 kbps | 优秀 | 现代标准 |
| **Vorbis** | 64-500 kbps | 良好 | 开源、游戏 |

### 4.8 视频编码

#### 视频参数

**分辨率标准：**

| 名称 | 分辨率 | 像素数 | 宽高比 |
|------|--------|--------|--------|
| SD | 640×480 | 0.3M | 4:3 |
| HD | 1280×720 | 0.9M | 16:9 |
| Full HD | 1920×1080 | 2.1M | 16:9 |
| 2K | 2048×1080 | 2.2M | 19:10 |
| 4K UHD | 3840×2160 | 8.3M | 16:9 |
| 4K DCI | 4096×2160 | 8.8M | 17:9 |
| 8K | 7680×4320 | 33.2M | 16:9 |

**帧率（FPS）：**

| 帧率 | 应用 |
|------|------|
| 24 fps | 电影 |
| 25 fps | PAL标准 |
| 30 fps | NTSC标准 |
| 60 fps | 高清视频、游戏 |
| 120 fps | 超高速视频 |
| 240 fps | 慢动作 |

#### 视频编码标准

**编码标准演进：**

| 标准 | 年份 | 压缩比 | 质量 | 应用 |
|------|------|--------|------|------|
| **MPEG-2** | 1995 | 低 | 中 | DVD、数字电视 |
| **H.264/AVC** | 2003 | 高 | 优秀 | 主流视频、直播 |
| **H.265/HEVC** | 2013 | 极高 | 优秀 | 4K/8K、流媒体 |
| **VP9** | 2013 | 极高 | 优秀 | YouTube、开源 |
| **AV1** | 2018 | 最高 | 最佳 | 下一代标准 |
| **H.266/VVC** | 2020 | 超高 | 顶级 | 未来8K |

**压缩效率对比：**

$$
\text{H.265} \approx 2 \times \text{H.264（同质量下）}
$$

$$
\text{AV1} \approx 1.3 \times \text{H.265}
$$

#### 视频压缩技术

**帧类型：**

| 类型 | 名称 | 说明 | 压缩比 |
|------|------|------|--------|
| **I帧** | 关键帧 | 完整图像，独立解码 | 低 |
| **P帧** | 预测帧 | 参考前一帧 | 中 |
| **B帧** | 双向帧 | 参考前后帧 | 高 |

**GOP（Group of Pictures）：**

```plain
I P P P B B P B B I P P P...
↑                 ↑
关键帧间隔（GOP长度）
```

**码率模式：**

| 模式 | 说明 | 优点 | 缺点 |
|------|------|------|------|
| **CBR** | 恒定码率 | 文件大小可预测 | 质量波动大 |
| **VBR** | 可变码率 | 质量稳定 | 文件大小不定 |
| **ABR** | 平均码率 | 折中方案 | 兼顾两者 |

**比特率推荐：**

| 分辨率 | H.264 | H.265 | 应用 |
|--------|-------|-------|------|
| 720p | 3-5 Mbps | 1.5-3 Mbps | 标清流媒体 |
| 1080p | 5-10 Mbps | 3-6 Mbps | 高清流媒体 |
| 4K | 20-50 Mbps | 10-25 Mbps | 超高清 |
| 8K | 80-200 Mbps | 40-100 Mbps | 极致画质 |

### 4.9 压缩算法

#### 无损压缩算法

**1. 游程编码（RLE）**

**原理**：连续相同数据压缩为"值+次数"

**示例：**

```plain
原始：AAAAABBBCCCCCCCC
编码：5A3B8C
压缩率：16字节 → 6字节 = 62.5%
```

**2. 霍夫曼编码（Huffman Coding）**

**原理**：高频字符用短编码，低频字符用长编码

**示例：**

```plain
文本：AABBBCCCC
频率：A=2, B=3, C=4

霍夫曼树：
        (9)
       /   \
     (4)C  (5)
          /   \
        (2)A (3)B

编码：
C=0
A=10
B=11

压缩后：10 10 11 11 11 0 0 0 0
```

**3. LZ77/LZ78（Lempel-Ziv）**

**原理**：字典压缩，记录重复字符串位置

**应用：**
- ZIP、GZIP
- PNG图像
- HTTP压缩

**4. Deflate算法**

**组合：** LZ77 + 霍夫曼编码

**应用：**
- ZIP文件
- PNG图像
- gzip压缩

#### 有损压缩算法

**离散余弦变换（DCT）：**

$$
F(u,v) = \sum_{x=0}^{N-1} \sum_{y=0}^{N-1} f(x,y) \cos\left[\frac{\pi u}{2N}(2x+1)\right] \cos\left[\frac{\pi v}{2N}(2y+1)\right]
$$

**应用：**
- JPEG图像
- MPEG视频
- MP3音频

#### 压缩格式对比

**归档格式：**

| 格式 | 压缩算法 | 压缩比 | 速度 | 应用 |
|------|----------|--------|------|------|
| **ZIP** | Deflate | 中 | 快 | 通用 |
| **RAR** | RAR算法 | 高 | 中 | Windows |
| **7z** | LZMA | 极高 | 慢 | 高压缩 |
| **tar.gz** | gzip | 中 | 快 | Linux/Unix |
| **tar.bz2** | bzip2 | 高 | 慢 | Linux备份 |
| **tar.xz** | LZMA2 | 极高 | 慢 | 现代Linux |

**压缩比实测（1GB文本文件）：**

| 格式 | 压缩后大小 | 压缩时间 | 解压时间 |
|------|-----------|----------|----------|
| ZIP | 250 MB | 30s | 15s |
| RAR | 220 MB | 45s | 20s |
| 7z | 180 MB | 90s | 25s |
| gzip | 260 MB | 25s | 10s |
| bzip2 | 200 MB | 60s | 30s |
| xz | 170 MB | 120s | 35s |

---

**本章完**