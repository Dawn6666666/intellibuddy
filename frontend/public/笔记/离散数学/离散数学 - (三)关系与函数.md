# 离散数学 - (三)关系与函数

理解关系和函数的数学定义及性质。

---

## 3. 关系与函数

### 3.1 关系

**定义**：$A$ 到 $B$ 的二元关系 $R$ 是 $A \times B$ 的子集。

**表示方法：**

1. 集合表示：$R = \{(1, 2), (2, 3), (3, 4)\}$
2. 关系矩阵
3. 关系图

**关系的性质**（$A$ 上的关系 $R$）：

| 性质 | 定义 | 示例 |
|------|------|------|
| 自反性 | $\forall a \in A, (a, a) \in R$ | $\leq$ |
| 反自反性 | $\forall a \in A, (a, a) \notin R$ | $<$ |
| 对称性 | $(a, b) \in R \Rightarrow (b, a) \in R$ | $=$ |
| 反对称性 | $(a, b) \in R \land (b, a) \in R \Rightarrow a = b$ | $\leq$ |
| 传递性 | $(a, b) \in R \land (b, c) \in R \Rightarrow (a, c) \in R$ | $<$ |

**等价关系**：自反、对称、传递

**示例**：整数集上的"模 $n$ 同余"关系

$$
a \equiv b \pmod{n} \Leftrightarrow n | (a - b)
$$

**偏序关系**：自反、反对称、传递

**示例**：集合的包含关系 $\subseteq$

### 3.2 函数

**定义**：$A$ 到 $B$ 的函数 $f$ 是特殊的关系，满足：

$$
\forall a \in A, \exists! b \in B, (a, b) \in f
$$

记作 $f: A \to B$，$b = f(a)$

**函数的分类：**

**1. 单射（Injective）**

$$
f(a_1) = f(a_2) \Rightarrow a_1 = a_2
$$

**2. 满射（Surjective）**

$$
\forall b \in B, \exists a \in A, f(a) = b
$$

**3. 双射（Bijective）**：既单射又满射

**示例：**

```python
def is_injective(f_dict):
    """检查函数是否为单射"""
    values = list(f_dict.values())
    return len(values) == len(set(values))

# f(1)=a, f(2)=b, f(3)=a
f1 = {1: 'a', 2: 'b', 3: 'a'}
print(is_injective(f1))  # False（不是单射）

# g(1)=a, g(2)=b, g(3)=c
g = {1: 'a', 2: 'b', 3: 'c'}
print(is_injective(g))  # True（是单射）
```

### 3.3 复合与逆

**复合关系**：

$$
R_1 \circ R_2 = \{(a, c) | \exists b, (a, b) \in R_2 \land (b, c) \in R_1\}
$$

**逆关系**：

$$
R^{-1} = \{(b, a) | (a, b) \in R\}
$$

**复合函数**：

$$
(g \circ f)(x) = g(f(x))
$$

---

**本章完**
